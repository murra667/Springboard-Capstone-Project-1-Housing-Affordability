import requests
from bs4 import BeautifulSoup

# request html
page = requests.get("https://minneapolis.craigslist.org/search/apa")

# declare beautifulsoup object
soup = BeautifulSoup(page.text, 'html.parser')

# get all listing containers
listing_containers = soup.find_all('li', class_="result-row")

# get just one listing container
first_listing = listing_containers[5]

# get the characteristics of the first listing 
first_characteristics = first_listing.p.find('span', class_= "housing")
print (first_characteristics.text)

# get the location of the first listing
first_location = first_listing.p.find('span', class_="result-hood")
print (first_location.text)

# declare characteristics and locations lists
characteristics = []
locations = []

# loop through listing containers
for container in listing_containers:

        # loop through locations containers and 
        # append text to locations list
        
        location = container.p.find('span', class_='result-hood').text
        locations.append(location)
        
        # loop through characteristics containers
        # and append text to characteristics list
  
        characteristic = container.p.find('span', class_="housing").text
        characteristics.append(characteristic)
    
